<!DOCTYPE html>
<html>
  <head>
    <title>BookingApp</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>

    <%# <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.css"> %>
  </head>

  <body>
    <div class="wrapper">
      <header class="header">
        <div class="header-nav">
          <%= link_to image_tag("https://presite-potepancamp-rails-02.herokuapp.com/assets/logo.png", class:"logo"), root_path %>

          <div class="search">
            <%= search_form_for @q, url: search_pages_path, class: "header-search" do |f| %>
              <%= f.search_field :address_cont, placeholder: "エリア" %>
              <i class="fa fa-map-marker"></i>
            <% end %>
            <%= search_form_for @q, url: search_pages_path, class: "header-search" do |f| %>
              <%= f.search_field :room_name_or_room_introduction_cont, class:"", placeholder: "キーワード"%>
              <i class="fa fa-search"></i>
            <% end %>
          </div>
        </div>

        <div class="header-nav-button">
          <% if user_signed_in? %>
            <div class="header-right-nav">
              <div class="header-username">
                <%= current_user.name %>
              </div>

              <details>
                <summary>
                  <% if current_user.image.attached? %>
                    <%= image_tag current_user.image, size: '50x50'%>
                  <% else %>
                    <p>MENU</p>
                  <% end %>
                </summary>
                <div class="menu-list">
                  <li><%= link_to "ルームの登録", new_hotel_path %></li>
                  <li><%= link_to "予約ルーム一覧", bookings_path %></li>
                  <li><%= link_to "登録ルーム一覧", hotels_path %></li>
                  <li><%= link_to "ユーザー情報の変更", profile_path(current_user.id) %></li>
                  <li><%= button_to "ログアウト", destroy_user_session_path, class: "header-button", method: :delete %></li>
                </div>
              </details>
            </div>

          <% else %>
              <%= link_to "ログイン", new_user_session_path, class: "header-login-button" %>
              <%= link_to "新規登録", new_user_registration_path, class: "header-sign-up-button" %>
          <% end %>

          <link href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" rel="stylesheet">
        </div>
      </header>

      <% if notice %>
        <p class="notice"><%= notice %></p>
      <% end %>

      <%= yield %>

      <footer>© 2022 POTEPAN.INC.</footer>
    </div>
  </body>
</html>
